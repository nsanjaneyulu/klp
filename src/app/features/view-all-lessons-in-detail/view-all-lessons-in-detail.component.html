<div class="grid col-12">
  <div class="col-12 md:col-3 lg:col-3 sm:col-12">
    <img
      [src]="lessonImageUrl || defaultImageUrl"
      alt="Lesson Image"
      class="imgStyle"
    />
  </div>
  <div class="col-12 md:col-9 lg:col-9 sm:col-12">
    <div>
      <span class="viewTitle">{{ requestByIdData?.title }}</span>
      <span class="ml-2">
        <button
          *ngIf="requestByIdData?.lessonType == 'Best practice'"
          pButton
          type="button"
          label="Best Practice"
          class="best-practice-btn"
        ></button>
      </span>
    </div>
    <div class="grid col-12">
      <div class="flex flex-column col-12 md:col-4 lg:col-4 sm:col-12">
        <label for="employeeId" class="fieldTitle viewList"
          ><strong class="fontbold">Easy to replicate </strong></label
        >
        <p-rating
          [(ngModel)]="reUseRequestByIdData.rateEtr"
          [stars]="5"
          [cancel]="false"
          [readonly]="true"
        ></p-rating>
      </div>
      <div class="flex flex-column col-12 md:col-4 lg:col-4 sm:col-12">
        <label for="employeeId" class="fieldTitle viewList"
          ><strong class="fontbold"
            >Sufficient Details Provided
          </strong></label
        >
        <p-rating
          [(ngModel)]="reUseRequestByIdData.rateSdp"
          [stars]="5"
          [cancel]="false"
          [readonly]="true"
        ></p-rating>
      </div>
      <div class="flex flex-column col-12 md:col-4 lg:col-4 sm:col-12">
        <label for="employeeId" class="fieldTitle viewList"
          ><strong class="fontbold">Impact on asset integrity </strong></label
        >
        <p-rating
          [(ngModel)]="reUseRequestByIdData.rateIai"
          [stars]="5"
          [cancel]="false"
          [readonly]="true"
        ></p-rating>
      </div>
    </div>
    <div class="grid col-12" style="margin-top: -25px !important">
      <div class="flex flex-column col-12 md:col-4 lg:col-4 sm:col-12">
        <div>
          <div class="viewList">
            <strong class="fontbold">Learning Source</strong>
          </div>
          <div class="viewDesc">{{ requestByIdData?.source }}</div>
        </div>
        <div>
          <div class="viewList">
            <strong class="fontbold">Source Department</strong>
          </div>
          <div class="viewDesc">
            {{ requestByIdData?.sourceDepartmentName }}
          </div>
        </div>
        <div>
          <div class="viewList">
            <strong class="fontbold">Expertise Area</strong>
          </div>
          <div class="viewDesc">{{ requestByIdData?.expertiseAreaName }}</div>
        </div>
      </div>
      <div class="flex flex-column col-12 md:col-4 lg:col-4 sm:col-12">
        <div>
          <div class="viewList">
            <strong class="fontbold">Identified By</strong>
          </div>
          <div class="viewDesc">{{ requestByIdData?.identifiedBy }}</div>
        </div>
        <div>
          <div class="viewList">
            <strong class="fontbold">Identified On</strong>
          </div>
          <div class="viewDesc">
            {{ requestByIdData?.identifiedOn | date : "dd-MM-yyyy hh:mm a" }}
          </div>
        </div>
        <div>
          <div class="viewList">
            <strong class="fontbold">Security Clarification</strong>
          </div>
          <div class="viewDesc">
            {{ requestByIdData?.securityClassification }}
          </div>
        </div>
      </div>
      <div class="flex flex-column col-12 md:col-4 lg:col-4 sm:col-12">
        <div>
          <div class="viewList">
            <strong class="fontbold">Number of Re-Use</strong>
          </div>
          <div class="viewDesc">{{ reUseRequestByIdData?.reused }}</div>
        </div>
        <div>
          <div class="viewList">
            <strong class="fontbold">Saved Cost(AED)</strong>
          </div>
          <div class="viewDesc">{{ reUseRequestByIdData?.costSaved }}</div>
        </div>
        <div>
          <div class="viewList">
            <strong class="fontbold">Saved Time(Hour)</strong>
          </div>
          <div class="viewDesc">{{ reUseRequestByIdData?.timeSaved }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="grid col-10">
  <div class="col-12">
    <div>
      <span class="viewList"><strong class="fontbold">Keyword:</strong> </span
      ><span class="viewDesc">{{ requestByIdData?.keywords }}</span>
    </div>
  </div>
</div>
<div class="grid col-10">
  <div class="col-12">
    <div class="viewList"><strong class="fontbold">Description</strong></div>
    <div class="viewDesc">{{ requestByIdData?.description }}</div>
  </div>

  <div class="col-12">
    <div class="viewList">
      <strong class="fontbold">Recommendation</strong>
    </div>
    <div class="viewDesc">{{ requestByIdData?.recommendation }}</div>
  </div>

  <div class="col-12">
    <div class="viewList"><strong class="fontbold">Comments</strong></div>
    <div class="viewDesc">{{ requestByIdData?.comments }}</div>
  </div>
  <div class="documents col-12">
    <h3>Documents</h3>
    <p-table [value]="requestByIdData?.attachments">
      <ng-template pTemplate="header">
        <tr>
          <th id="fileName">File Name</th>
          <th id="fileType">File Type</th>
          <th id="action">Action</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-doc let-rowIndex="rowIndex">
        <tr>
          <td [id]="'fileName' + rowIndex">{{ doc?.name }}</td>
          <td [id]="'fileType' + rowIndex">{{ doc?.fileType }}</td>
          <td [id]="'action' + rowIndex">
            <a
              title="Download the file"
              href="javascript:void(0);"
              (click)="downloadFile(doc)"
            >
              <i class="pi pi-download" style="color: #00549f"></i>
            </a>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="3" class="text-center">No data found</td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <div class="mt-3">
    <button
      pButton
      type="button"
      class="re-use-lesson-btn"
      label="Re Use Lesson"
      [routerLink]="[
        '/view-all-lessons/view-all-lessons-add',
        requestByIdData?.id
      ]"
    ></button>
  </div>
</div>
